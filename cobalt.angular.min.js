"use strict";angular.module("cb.utilities",["cb.directives"]),angular.module("cb.directives",[]),function(a){"function"==typeof define&&define.amd?define(["angular"],a):a(angular)}(function(a){a.module("cbSlider",[]).directive("cbSlider",["$timeout",function(b){return{restrict:"A",scope:{collection:"=cbSliderData"},link:function(c,d,e){var f,g,h,i,j,k,l=null;h={currentPage:0,perPage:1,collectionName:"pages",autoPlay:!1,initialDelay:7e3,delay:5e3,delayFlux:1e3},a.extend(h,c.$eval(e.cbSlider)),j=c.slider={currentPage:h.currentPage},c.$watch("collection",function(a){if(f=Math.ceil(a.length/h.perPage)-1,1===h.perPage)k=a;else{k=[];for(var b=0,c=a.length;c>b;b+=h.perPage)k.push(a.slice(b,b+h.perPage))}j[h.collectionName]=k}),g=function(){var a=(j.currentPage+1)%(f+1);j.left=!0,j.currentPage=a,l=b(g,h.delay+Math.random()*h.delayFlux)},i=function(){h.autoPlay&&null!=l&&(b.cancel(l),l=b(g,h.initialDelay))},j.next=function(){i(),j.currentPage<f&&(j.left=!0,j.currentPage++)},j.prev=function(){i(),j.currentPage>0&&(j.left=!1,j.currentPage--)},j.goto=function(a){i(),a>=0&&f>=a&&(j.left=j.currentPage<a?!0:!1,j.currentPage=a)},h.autorotate===!0&&(l=b(g,h.initialDelay))}}}])});