/*! cobalt-js - v0.1.2 - 2013-09-10 */
!function(){"use strict";angular.module("cb.directives",[]),angular.module("cb.utilities",["cb.directives"]),angular.module("cb.directives").directive("cbSlider",["$timeout",function(a){return{restrict:"A",scope:{collection:"=cbSliderData"},link:function(b,c,d){var e,f,g,h,i,j,k=null;g={currentPage:0,perPage:1,collectionName:"pages",autoPlay:!1,initialDelay:7e3,delay:5e3,delayFlux:1e3},angular.extend(g,b.$eval(d.cbSlider)),i=b.slider={currentPage:g.currentPage},b.$watch("collection",function(a){if(e=Math.ceil(a.length/g.perPage)-1,1===g.perPage)j=a;else{j=[];for(var b=0,c=a.length;c>b;b+=g.perPage)j.push(a.slice(b,b+g.perPage))}i[g.collectionName]=j}),f=function(){var b=(i.currentPage+1)%(e+1);i.left=!0,i.currentPage=b,k=a(f,g.delay+Math.random()*g.delayFlux)},h=function(){g.autoPlay&&null!==k&&(a.cancel(k),k=a(f,g.initialDelay))},i.next=function(){h(),i.currentPage<e&&(i.left=!0,i.currentPage++)},i.prev=function(){h(),i.currentPage>0&&(i.left=!1,i.currentPage--)},i.goto=function(a){h(),a>=0&&e>=a&&(i.left=i.currentPage<a?!0:!1,i.currentPage=a)},g.autorotate===!0&&(k=a(f,g.initialDelay))}}}])}();